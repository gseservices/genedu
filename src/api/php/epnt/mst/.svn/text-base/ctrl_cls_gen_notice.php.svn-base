<?php
require_once '.\..\..\app_const.php';
include_once BASE_PATH . '\classes\masters\cls_gen_notice.php';

$action=$_REQUEST["a"];
$obj = new cls_gen_notice() ;

switch($action)
{
	//Add Records
	case "a":

		$obj->m_pk_notice_id=$_REQUEST["pk_notice_id"] ;
		$obj->m_for_group=$_REQUEST["for_group"] ;
		$obj->m_notice_date=$_REQUEST["notice_date"] ;
		$obj->m_notice_priotity=$_REQUEST["notice_priotity"] ;
		$obj->m_notice_heading=$_REQUEST["notice_heading"] ;
		$obj->m_notice_details=$_REQUEST["notice_details"] ;
		$obj->m_notice_expiry_date=$_REQUEST["notice_expiry_date"] ;
		$obj->m_notice_by=$_REQUEST["notice_by"] ;
		
		$ret = $obj->Add();
		if(intval($ret)>0){
			echo  $ret;
		}else{
			echo "FAIL";
		}
		//alert("InAdd");
		break;
		//Edit Records
	case "e":
		//$ret = $obj->GetData(SELECT_MODE_TABLE, SELECT_RETURN_TYPE_JSONSTRING, "mst_biz_document_category","*","");
		break;
		//Delete Records
	case "d":
		$obj->m_pk_notice_id=$_REQUEST["pk_notice_id"] ;
		$obj->m_deleted_by=$_REQUEST["deleted_by"];
		$obj->m_deletedtype="s";

		$ret = $obj->Delete();
		echo $ret;
		if(intval($ret)>0){
			echo  $ret;
		}else{
			echo "FAIL";
		}	
		
		break;
	case "r":
		$ret = $obj->GetData(SELECT_MODE_TABLE, SELECT_RETURN_TYPE_JSONSTRING, "mst_gen_notice"," pk_notice_id,for_group,DATE(notice_date) AS notice_date,notice_priotity,notice_heading,notice_details,DATE(notice_expiry_date) as notice_expiry_date,notice_by ","deleted='N'");
		echo  $ret;
		break;

}
//$ret = $obj->Delete();


?>